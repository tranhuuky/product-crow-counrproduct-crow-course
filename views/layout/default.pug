include ../mixin/alert.pug
include ../mixin/contact_list.pug
include ../mixin/keyboard.pug
doctype html
html
  head
    title #{title}
    link(rel="icon" type="image/x-icon" href="/img/logo_crow.ico")
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css")
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css")
    link(rel="stylesheet" href="/css/style.css")
    script(src='https://cdn.jsdelivr.net/npm/socket.io-client@4.8.1/dist/socket.io.js')
    script(src='https://cdn.jsdelivr.net/npm/simple-peer@9.0.0/simplepeer.min.js')
    script(src="https://cdnjs.cloudflare.com/ajax/libs/peerjs/1.3.1/peerjs.min.js")
    script(src="https://unpkg.com/peerjs@1.0.2/dist/peerjs.min.js")
    script(src="https://cdn.jsdelivr.net/npm/peerjs@1.4.7/dist/peerjs.min.js")

    script(src="/socket.io/socket.io.js")
    script(src="https://cdn.jsdelivr.net/npm/sweetalert2@11")

    block script

    block style

  body.no-text-click.no-interaction
    - const hasError = false;
    if !hasError
      .body
        +contact_list()
        +key-board()
        include ../partial/header.pug
        .main
          block main

        include ../partial/footer.pug

      script(src="/js/index.js" type="module")
      script(src='/js/socket_client.js' type="module")
      script(src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js")
      script(src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js")
      block script2

    else
      .container
        .error-container
          h1.display-3.text-danger(style="font-weight: 950") Đã xảy ra lỗi
          p.lead.text-warning(style="font-weight: 800") Vui lòng thử lại sau
          p.text-muted(style="font-weight: 400") Một lỗi không xác định đã xảy ra. Vui lòng thử lại sau.